var e=Object.defineProperty,s=Object.prototype.hasOwnProperty,t=Object.getOwnPropertySymbols,a=Object.prototype.propertyIsEnumerable,i=(s,t,a)=>t in s?e(s,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[t]=a,o=(e,o)=>{for(var r in o||(o={}))s.call(o,r)&&i(e,r,o[r]);if(t)for(var r of t(o))a.call(o,r)&&i(e,r,o[r]);return e};import{p as r,s as n,m as c,a as h,n as l}from"./index.91c1d8ee.js";var u="./assets/t-logo-colorful.049758c4.svg",d="./assets/tdesign-logo-black.0f799e8e.svg",p=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"header-layout"},[t("div",{staticClass:"header-user",attrs:{slot:"content"},slot:"content"},[t("span",{staticClass:"header-user-account"},[t("img",{staticClass:"header-user-avatar",attrs:{src:e.dfmRedLogo}}),e._v(" "),t("i",{staticClass:"header-user-name"},[e._v(e._s(e.username))])])]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.isFixed,expression:"isFixed"}],class:e.placeholderCls})])};p._withStripped=!0;const m={components:{},props:{theme:String,layout:{type:String,default:"top"},showLogo:{type:Boolean,default:!0},menu:{type:Array},isFixed:{type:Boolean,default:!1},isCompact:{type:Boolean,default:!1}},data:()=>({prefix:r,userVisible:!1,visibleNotice:!1,isSearchFocus:!1,gitLogo:"./assets/git.31c44c2e.svg",dfmRedLogo:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAANXSURBVFhH7ZZLSJRRGIaDItLM8u54nVvOTR01J0cn7+ZtHB2d0VG3EUGrFi2KaNEiqF2baldQ0bIW7brRIiJoVRFCUUm0ECxokaFkvr3fSSH0zPjPCEng4mX8//+c8z3n/b7vHLcVlNixmdoC+L8B8qj8Ve+SVcoAEjin2Kb9loxSAsilSkv340pTC1orKrG3yKodZ0QpAexhwH6nF5iYwJn6RvWsG2dESQOI9aKn3b3A+Dhe9PbBVJp6LSQNsKvQguM1PiyOjgKxGE7V+5FmsqiC1I1fT0kBZLHoHGYHpoIh2j+OJ4d7VODzDQEEXV5kEEQ3L5EMAxRSGSYrLvoDyvqFSJR1UI06mxsYG8Pdtk4FmFeSXGcYBpBKD9g9+DY8TIAYbjS3I63Qiodd3SoVS0zJZGWdghRY3Ro6GQIQm2V3d7hLsX5mKAxbmQNHvfVq95B64O/rvqBqz9xi/To6GQJIZ27HPLWYl0Dc/Vm2XgkDfR4cVIFnCbQYiWCJTpzzNalC1a2j07oAcuhIsJd9/Sr4K+5SLL7e3KZq4U1/EFVWJ+53MhV0ZzYcRoPdjX0GT8mEABIonTk9fcD/x2pqxF2DUbqBGJ8JcKulHbs5Rrpgni4I5O2WDsOHU0IAKbwqiwvTIVrNU+9eR5da2MfKFwe+hFmQhDpRexDbC8y41NisoBYIEiZoBseuV5BxAfJpoQS7GmhV1n4dHkE7z32p8hwW2Q4GvMndP+/pQzVTkGmyobysQqUIkxN4xpOyiKlb78KKC5DJ4B2OKtXv0maXefFIMcq3rCIbhmj5A7ag2+JUoLJTSUXUXYuf0agqyJN1DXyXuCC1ACtX7WPpceb0/UAI5nKHasVcSr4fqa6Hn8UmAfLoiLwX7WQHCKzMmxkcUinMTtCWWgBpo2NeH34t97ec/RLETItFNsLYqWJabFl+tyLpGK/VpaClHq4dauWBZYl7Wa0BkF16aOuULEAbQTvf8e+P1CcWo2g6FMKHv55X621wgAUaVvBzLMiopyZuV6wBkP69wMtFJn/nsTs3MoJ5aiGSnH5wjsyXW/NRV49yS1K0Op42BU6zE5V0wcVf9wYk88VNWasozv8MWgAhzaakEDeqlXV0cURagH+pLYAtgE0GsOM3Vvj4NBE8TzsAAAAASUVORK5CYII=",username:n.state.user.userName,env:n.state.base.currentEnv,envOptions:[]}),computed:o(o(o({},c("notification",["msgData"])),h("notification",["unreadMsg"])),{logoUrl:()=>u,tdLogoUrl(){return"dark"===this.theme?"./assets/tdesign-logo-white.c9c14b6a.svg":d},active(){return this.$route.path?this.$route.path.split("/").filter(((e,s)=>s<=2&&s>0)).map((e=>`/${e}`)).join(""):""},showMenu(){return!("mix"===this.layout&&"side"===this.showLogo)},layoutCls(){return[`${this.prefix}-header-layout`]},menuCls(){return[{[`${this.prefix}-header-menu`]:!this.isFixed,[`${this.prefix}-header-menu-fixed`]:this.isFixed,[`${this.prefix}-header-menu-fixed-side`]:"side"===this.layout&&this.isFixed,[`${this.prefix}-header-menu-fixed-side-compact`]:"side"===this.layout&&this.isFixed&&this.isCompact}]},placeholderCls(){return[`${this.prefix}-header-placeholder`]}}),mounted(){n.state.base.env.forEach((e=>{this.envOptions.push({label:e,value:e})}))},methods:{changeSearchFocus(e){e&&this.$refs.input.focus(),this.isSearchFocus=e},goHome(){this.$router.push("/")},goDetail(){this.visibleNotice=!1,this.$router.push("/detail/secondary")},setRead(e,s){const t=this.msgData;"all"===e?t.forEach((e=>{e.status=!1})):t.forEach((e=>{e.id===s.id&&(e.status=!1)})),this.$store.commit("notification/setMsgData",t)},userVisibleChange(e){this.userVisible=e},onEnvChange(){this.env!==n.state.base.currentEnv?this.$request.post("/api/env/switch",null,{params:{env:this.env}}).then((e=>{if("ok"!==e.data.result)return console.log("删除失败",e.data.result),void this.$message.error(`切换到${this.env}失败:${e.data.result}`);this.$message.success(`切换到${this.env}成功`),this.$store.commit("base/SetCurrentEnv",this.env),this.$store.commit("user/SET_USER_INFO",e.data.user),this.$store.commit("cache/ClearCache"),this.$emit("envChange",this.env)})).catch((e=>{console.log(e),this.$message.error(`切换到${this.env}失败`)})):console.log("env no change")}}},v={};var A=l(m,p,[],!1,(function(e){for(let s in v)this[s]=v[s]}),"29e8c3c6",null,null).exports,g=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{class:e.prefix+"-footer"},[t("span",[e._v(" Copyright @ 2021-"+e._s((new Date).getFullYear())+" Tencent. All Rights Reserved ")])])};g._withStripped=!0;const f={};var b=l({name:`${r}-footer`,data:()=>({prefix:r})},g,[],!1,(function(e){for(let s in f)this[s]=f[s]}),"6c4d8baa",null,null).exports;export{A as T,b as a,d as b,u as t};
