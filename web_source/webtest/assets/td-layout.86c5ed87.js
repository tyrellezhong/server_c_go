var t=Object.defineProperty,e=Object.prototype.hasOwnProperty,a=Object.getOwnPropertySymbols,s=Object.prototype.propertyIsEnumerable,i=(e,a,s)=>a in e?t(e,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[a]=s,o=(t,o)=>{for(var r in o||(o={}))e.call(o,r)&&i(t,r,o[r]);if(a)for(var r of a(o))s.call(o,r)&&i(t,r,o[r]);return t};import{T as r,a as n}from"./footer.3e6d4829.js";import{T as l,a as m}from"./sidenav.5d988d87.js";import{n as d,S as h,p as c,a as u}from"./index.91c1d8ee.js";import{c as f}from"./index.b0f3c209.js";import"./vendor.3a85f146.js";var p=function(){var t=this,e=t.$createElement;return(t._self._c||e)("img",{class:t.className,attrs:{src:t.url}})};p._withStripped=!0;const v={};var b=d({name:"thumbnail",props:{url:{type:String,default:""},type:{type:String,default:"layout"}},computed:{className(){return["thumbnail-container",{"thumbnail-circle":"circle"===this.type,"thumbnail-layout":"layout"===this.type}]}}},p,[],!1,(function(t){for(let e in v)this[e]=v[e]}),"15e0d08f",null,null).exports,g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("t-drawer",{staticClass:"setting-drawer-container",attrs:{size:"458px",footer:!1,visible:t.visible,value:"medium",header:"页面配置",onClickConfirm:t.onClickConfirm,closeBtn:!0},on:{"update:visible":function(e){t.visible=e}}},[a("div",[a("t-form",{ref:"form",attrs:{data:t.formData,labelAlign:"left"},on:{reset:t.onReset,submit:t.onSubmit}},[a("card",{attrs:{title:"导航布局",compact:!0}},[a("t-radio-group",{attrs:{defaultVaule:"top"},model:{value:t.formData.layout,callback:function(e){t.$set(t.formData,"layout",e)},expression:"formData.layout"}},t._l(t.layoutOption,(function(e,s){return a("div",{key:s,staticClass:"setting-layout-drawer"},[a("t-radio-button",{key:s,attrs:{value:e}},[a("thumbnail",{attrs:{src:t.getThumbnailUrl(e)}})],1)],1)})),0),t._v(" "),a("t-form-item",{staticClass:"setting-route-theme",attrs:{label:"导航风格",name:"theme"}},[a("t-radio-group",{attrs:{defaultVaule:"light",variant:"outline",size:"small"},model:{value:t.formData.theme,callback:function(e){t.$set(t.formData,"theme",e)},expression:"formData.theme"}},[a("t-radio-button",{attrs:{value:"light"}},[t._v("明亮")]),t._v(" "),a("t-radio-button",{attrs:{value:"dark"}},[t._v("暗黑")])],1)],1),t._v(" "),a("t-form-item",{directives:[{name:"show",rawName:"v-show",value:"mix"===t.formData.layout,expression:"formData.layout === 'mix'"}],attrs:{label:"分割菜单（混合模式下有效）",name:"splitMenu"}},[a("t-switch",{model:{value:t.formData.splitMenu,callback:function(e){t.$set(t.formData,"splitMenu",e)},expression:"formData.splitMenu"}})],1),t._v(" "),a("t-form-item",{directives:[{name:"show",rawName:"v-show",value:"side"!==t.formData.layout,expression:"formData.layout !== 'side'"}],attrs:{label:"固定 header",name:"isHeaderFixed"}},[a("t-switch",{model:{value:t.formData.isHeaderFixed,callback:function(e){t.$set(t.formData,"isHeaderFixed",e)},expression:"formData.isHeaderFixed"}})],1),t._v(" "),a("t-form-item",{directives:[{name:"show",rawName:"v-show",value:"top"!==t.formData.layout,expression:"formData.layout !== 'top'"}],attrs:{label:"固定 sidebar",name:"isSidebarFixed"}},[a("t-switch",{model:{value:t.formData.isSidebarFixed,callback:function(e){t.$set(t.formData,"isSidebarFixed",e)},expression:"formData.isSidebarFixed"}})],1)],1),t._v(" "),a("card",{attrs:{title:"元素开关",compact:!0}},[[a("t-form-item",{directives:[{name:"show",rawName:"v-show",value:"side"===t.formData.layout,expression:"formData.layout === 'side'"}],attrs:{label:"显示 header",name:"showHeader"}},[a("t-switch",{model:{value:t.formData.showHeader,callback:function(e){t.$set(t.formData,"showHeader",e)},expression:"formData.showHeader"}})],1),t._v(" "),a("t-form-item",{attrs:{label:"显示面包屑",name:"showBreadcrumb"}},[a("t-switch",{model:{value:t.formData.showBreadcrumb,callback:function(e){t.$set(t.formData,"showBreadcrumb",e)},expression:"formData.showBreadcrumb"}})],1),t._v(" "),a("t-form-item",{attrs:{label:"显示 footer",name:"showFooter"}},[a("t-switch",{model:{value:t.formData.showFooter,callback:function(e){t.$set(t.formData,"showFooter",e)},expression:"formData.showFooter"}})],1)]],2),t._v(" "),a("card",{directives:[{name:"show",rawName:"v-show",value:t.showOthers,expression:"showOthers"}],attrs:{title:"其他",compact:!0}},[a("t-form-item",{directives:[{name:"show",rawName:"v-show",value:t.formData.showFooter&&!t.formData.isSidebarFixed,expression:"formData.showFooter && !formData.isSidebarFixed"}],attrs:{label:"footer 内收",name:"footerPosition"}},[a("t-switch",{model:{value:t.formData.isFooterAside,callback:function(e){t.$set(t.formData,"isFooterAside",e)},expression:"formData.isFooterAside"}})],1),t._v(" "),a("t-form-item",{directives:[{name:"show",rawName:"v-show",value:!t.formData.splitMenu,expression:"!formData.splitMenu"}],attrs:{label:"sidebar 设为紧凑模式",name:"isSidebarCompact"}},[a("t-switch",{model:{value:t.formData.isSidebarCompact,callback:function(e){t.$set(t.formData,"isSidebarCompact",e)},expression:"formData.isSidebarCompact"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"setting-info"},[a("p",[t._v("\n          请复制后手动修改配置文件: /src/config/style.js,\n          "),a("a",{staticClass:"tdesign-pro-link",attrs:{href:"http://tdesign.woa.com/vue/components/quick-start",target:"_blank"}},[t._v("\n            更多说明")])]),t._v(" "),a("t-button",{attrs:{block:"",theme:"primary",variant:"outline"},on:{click:t.handleCopy}},[t._v("复制配置项")])],1)],1)]),t._v(" "),a("t-button",{staticClass:"tdesign-setting",attrs:{shape:"circle",theme:"primary"},on:{click:t.handleClick}},[a("t-icon",{attrs:{slot:"icon",name:"setting",size:"24px"},slot:"icon"}),t._v(" "),a("span",{staticClass:"tdesign-setting-text"},[t._v("页面配置")])],1)],1)};g._withStripped=!0;const w={};var y=d({name:"DefaultLayoutSetting",components:{Card:f,Thumbnail:b},data:()=>({layoutOption:["side","top","mix"],visible:!1}),computed:{iconName(){return this.visible?"close":"setting"},formData:{get(){return this.$store.state.setting},set(t){this.$store.commit("setting/update",t)}},showOthers(){return this.formData.showFooter&&!this.formData.isSidebarFixed||!this.formData.splitMenu}},methods:{onReset(){this.formData=o({},h),this.$message.success("已恢复初始设置")},onSubmit({result:t,firstError:e,e:a}){a.preventDefault(),!0===t?(this.$store.commit("setting/update",Object.assign({},this.formData)),this.visible=!1):this.$message.warning(e)},getThumbnailUrl:t=>`//oteam-tdesign-1258344706.cos.ap-guangzhou.myqcloud.com/pro-template/${t}.jpg`,handleClick(){this.visible=!this.visible},onClickConfirm(){const t=setTimeout((()=>{clearTimeout(t),this.visible=!1}),1e3)},handleCopy(){const t=JSON.stringify(this.formData,null,4);this.$copyText(t).then((()=>{this.$message.closeAll(),this.$message.success("复制成功")}))}}},g,[],!1,(function(t){for(let e in w)this[e]=w[e]}),"2b2af070",null,null).exports;var D={name:`${c}-base-layout`,components:{TdesignHeader:r,TdesignFooter:n,TdesignSidenav:l,TdesignSetting:y,TdesignBreadcrumb:m},data:()=>({prefix:c,headerHeight:"64px",activeDate:1}),computed:o(o({},u({showSidebar:"setting/showSidebar",showHeader:"setting/showHeader",showHeaderLogo:"setting/showHeaderLogo",showSidebarLogo:"setting/showSidebarLogo",headerMenu:"setting/headerMenu",sideMenu:"setting/sideMenu",showAsideFooter:"setting/showAsideFooter",showMainFooter:"setting/showMainFooter"})),{setting(){return this.$store.state.setting},mainLayoutCls(){return[{"t-layout-has-sider":this.showSidebar}]}}),methods:{renderSidebar(){const t=this.$createElement,e="mix"===this.setting.layout?"light":this.setting.theme;return this.showSidebar&&t("tdesign-sidenav",{attrs:{showLogo:this.showSidebarLogo,layout:this.setting.layout,isFixed:this.setting.isSidebarFixed,menu:this.sideMenu,theme:e,isCompact:this.setting.isSidebarCompact}})},renderHeader(){const t=this.$createElement,e="side"===this.setting.layout?"light":this.setting.theme;return this.showHeader&&t("tdesign-header",{attrs:{showLogo:this.showHeaderLogo,theme:e,layout:this.setting.layout,isFixed:this.setting.isHeaderFixed,menu:this.headerMenu,isCompact:this.setting.isSidebarCompact},on:{envChange:this.onEnvChange}})},renderContent(){const t=this.$createElement,{showBreadcrumb:e}=this.setting,{prefix:a,showAsideFooter:s}=this;return t("t-layout",[t("t-content",{class:`${a}-content-layout`},[e&&t("tdesign-breadcrumb"),t("router-view",{class:`${a}-default-layout`,key:this.activeDate})]),s&&this.renderFooter()])},renderFooter(t="tdesign"){const e=this.$createElement;return e("t-footer",{class:`${t}-footer-layout`},[e("tdesign-footer")])},onEnvChange(t){console.log("env change",t),this.activeDate=this.activeDate+1}},render(){const t=arguments[0],{layout:e}=this.setting,a=this.renderHeader(),s=this.renderSidebar(),i=this.renderContent(),o=this.renderFooter();return t("div",{class:`${c}-wrapper`},["side"===e?t("t-layout",{class:this.mainLayoutCls,key:"side"},[t("t-aside",[s]),t("t-layout",[[a,i]])]):t("t-layout",{key:"no-side"},[a,t("t-layout",{class:this.mainLayoutCls},[[s,i]]),this.showMainFooter&&o]),t("tdesign-setting")])}};export default D;
