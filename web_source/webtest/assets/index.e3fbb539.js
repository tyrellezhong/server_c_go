var e=Object.defineProperty,t=Object.prototype.hasOwnProperty,a=Object.getOwnPropertySymbols,s=Object.prototype.propertyIsEnumerable,i=(t,a,s)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s,l=(e,l)=>{for(var r in l||(l={}))t.call(l,r)&&i(e,r,l[r]);if(a)for(var r of a(l))s.call(l,r)&&i(e,r,l[r]);return e};import{n as r,p as n}from"./index.91c1d8ee.js";import"./vendor.3a85f146.js";var o=new class{getBaseInfoData(){return[{name:"合同名称",value:"总部办公用品采购项目"},{name:"合同状态",value:"履行中",type:{key:"contractStatus",value:"inProgress"}},{name:"合同编号",value:"BH00010"},{name:"合同类型",value:"主合同"},{name:"合同收付类型",value:"付款"},{name:"合同金额",value:"5,000,000元"},{name:"甲方",value:"腾讯科技（深圳）有限公司"},{name:"乙方",value:"欧尚"},{name:"合同签订日期",value:"2020-12-20"},{name:"合同生效日期",value:"2021-01-20"},{name:"合同结束日期",value:"2022-12-20"},{name:"合同附件",value:"总部办公用品采购项目合同.pdf",type:{key:"contractAnnex",value:"pdf"}},{name:"备注",value:"--"},{name:"创建时间",value:"2020-12-22 10:00:00"}]}getTableColumns(){return[{align:"center",minWidth:"250",ellipsis:!0,colKey:"index",title:"申请号",sorter:(e,t)=>e.index.substr(3)-t.index.substr(3)},{minWidth:"100",ellipsis:!0,colKey:"pdName",title:"产品名称",sorter:(e,t)=>e.pdName.length-t.pdName.length},{minWidth:"250",ellipsis:!0,colKey:"pdNum",title:"产品编号"},{minWidth:"100",ellipsis:!0,colKey:"purchaseNum",title:"采购数量",sorter:(e,t)=>e.purchaseNum-t.purchaseNum},{minWidth:"100",ellipsis:!0,colKey:"adminName",title:"申请部门"},{minWidth:"250",className:"test",ellipsis:!0,colKey:"updateTime",title:"创建时间",sorter:(e,t)=>Date.parse(e.updateTime)-Date.parse(t.updateTime)},{align:"left",width:200,className:"test2",ellipsis:!0,colKey:"op",title:"操作"}]}getPropUpData(){return{formData:l({},{name:"",warning:"",success:"",failB:"",warningB:"",loading:"",add:"",help:""}),courseOptions:[{label:"语文",value:"1"},{label:"数学",value:"2"},{label:"英语",value:"3"}],options:[{label:"资源初始化后",value:"beijing"},{label:"上海",value:"shanghai"}],options1:[{label:"资源初始化后",value:"guangzhou"},{label:"深圳",value:"shenzhen"},{label:"东莞",value:"dongguang"}],options2:[{label:"资源初始化后",value:"nanjing"},{label:"苏州",value:"苏州"},{label:"无锡",value:"wuxi"}],tSelectOptions:[{label:"Sanzhang",value:"1"},{label:"ls",value:"2"},{label:"James",value:"3"}]}}},p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("t-page-header",[e._v("合同详情页")]),e._v(" "),a("div",{class:e.prefix+"-panel"},[a("div",{staticClass:"base-info"},[a("t-row",{class:e.prefix+"-operater-row",attrs:{justify:"space-between"}},[a("p",{class:e.prefix+"-operater-title"},[e._v("基本信息")])]),e._v(" "),a("div",{staticClass:"info-block"},e._l(e.baseInfoData,(function(t,s){var i;return a("div",{key:s,staticClass:"info-item"},[a("h1",[e._v(e._s(t.name))]),e._v(" "),a("span",{class:(i={},i.inProgress=t.type&&"inProgress"===t.type.value,i.pdf=t.type&&"pdf"===t.type.value,i)},[t.type&&"contractStatus"===t.type.key?a("i"):e._e(),e._v("\n            "+e._s(t.value)+"\n          ")])])})),0)],1)]),e._v(" "),a("div",{class:e.prefix+"-panel"},[a("t-row",{class:e.prefix+"-operater-row",attrs:{justify:"space-between"}},[a("p",{class:e.prefix+"-operater-title"},[e._v("发票进度")])]),e._v(" "),a("t-row",{class:e.prefix+"-operater-row row-padding",attrs:{justify:"space-between"}},[[a("t-steps",{attrs:{theme:"dot",current:e.updateCurrent}},[a("t-step-item",{attrs:{title:"申请提交",content:"已于12月21日提交"}}),e._v(" "),a("t-step-item",{attrs:{title:"电子发票",content:"预计1～3个工作日"}}),e._v(" "),a("t-step-item",{attrs:{title:"发票已邮寄",content:"电子发票开出后7个工作日内联系"}}),e._v(" "),a("t-step-item",{attrs:{title:"完成",content:""}})],1)]],2)],1),e._v(" "),a("div",{class:e.prefix+"-panel"},[a("t-row",{class:e.prefix+"-operater-row",attrs:{justify:"space-between"}},[a("p",{class:e.prefix+"-operater-title"},[e._v("产品目录")])]),e._v(" "),a("t-row",{staticClass:"operater-block-container"},[a("t-col",{attrs:{flex:1}},[a("div",{staticClass:"operater-add"},[a("div",{staticClass:"operater-sub"},[a("t-icon",{attrs:{name:"add",size:"20px"}}),e._v(" "),a("span",[e._v("新增产品")])],1)])]),e._v(" "),a("t-col",{attrs:{flex:1}},[a("div",{staticClass:"operater-block operater-gap"},[a("div",{staticClass:"operater-title"},[a("t-icon",{attrs:{name:"server",size:"2em"}}),e._v(" "),a("h1",[e._v("Macbook")])],1),e._v(" "),a("div",{staticClass:"operater-item"},[a("h1",[e._v("产品编号")]),e._v(" "),a("span",[e._v("p_tmp_60a637cd0d")])]),e._v(" "),a("div",{staticClass:"operater-item"},[a("h1",[e._v("计费方式")]),e._v(" "),a("span",[e._v("按量计费")])]),e._v(" "),a("div",{staticClass:"operater-item"},[a("h1",[e._v("交付时间")]),e._v(" "),a("span",[e._v("2020-12-21 11:05:17")])])])]),e._v(" "),a("t-col",{attrs:{flex:1}},[a("div",{staticClass:"operater-block operater-gap"},[a("div",{staticClass:"operater-title"},[a("t-icon",{attrs:{name:"server",size:"2em"}}),e._v(" "),a("h1",[e._v("椅子")])],1),e._v(" "),a("div",{staticClass:"operater-item"},[a("h1",[e._v("产品编号")]),e._v(" "),a("span",[e._v("p_tmp_60a637cd0C")])]),e._v(" "),a("div",{staticClass:"operater-item"},[a("h1",[e._v("计费方式")]),e._v(" "),a("span",[e._v("按量计费")])]),e._v(" "),a("div",{staticClass:"operater-item"},[a("h1",[e._v("交付时间")]),e._v(" "),a("span",[e._v("2020-12-21 13:08:09")])])])])],1)],1),e._v(" "),a("div",{class:e.prefix+"-panel"},[a("t-row",{class:e.prefix+"-operater-row",attrs:{justify:"space-between"}},[a("p",{class:e.prefix+"-operater-title"},[e._v("产品采购明细")])]),e._v(" "),a("t-table",{attrs:{columns:e.columns,data:e.data,pagination:e.pagination,bordered:e.bordered,hover:e.hover,"row-key":"index"},on:{"sort-change":e.sortChange,change:e.rehandleChange},scopedSlots:e._u([{key:"op",fn:function(t){return[a("a",{class:e.prefix+"-link",on:{click:function(a){return e.listClick(t)}}},[e._v("管理")]),e._v(" "),a("a",{class:e.prefix+"-link",on:{click:function(a){return e.deleteClickOp(t)}}},[e._v("删除")])]}}])},[e._v(" "),a("t-icon",{attrs:{slot:"op-column",name:"descending-order"},slot:"op-column"})],1)],1),e._v(" "),a("t-dialog",{attrs:{header:"基本信息",visible:e.visible},on:{"update:visible":function(t){e.visible=t},confirm:e.onConfirm}},[a("div",{attrs:{slot:"body"},slot:"body"},[a("div",{staticClass:"dialog-info-block"},e._l(e.baseInfoData,(function(t,s){var i;return a("div",{key:s,staticClass:"info-item"},[a("h1",[e._v(e._s(t.name))]),e._v(" "),a("span",{class:(i={},i.inProgress=t.type&&"inProgress"===t.type.value,i.pdf=t.type&&"pdf"===t.type.value,i)},[t.type&&"contractStatus"===t.type.key?a("i"):e._e(),e._v("\n            "+e._s(t.value)+"\n          ")])])})),0)])])],1)};p._withStripped=!0;const v={};var c=r({name:"detail-base",data:()=>({data:[],prefix:n,updateCurrent:0,columns:o.getTableColumns(),baseInfoData:o.getBaseInfoData(),bordered:!0,hover:!0,visible:!1,pagination:{defaultPageSize:10,total:100,defaultCurrent:1}}),async mounted(){setInterval((()=>{this.updateCurrent>5&&(this.updateCurrent=-1),this.updateCurrent=this.updateCurrent+1}),2e3),this.$request.get("/api/get-purchase-list").then((e=>{if(0===e.code){const{list:t=[]}=e.data;this.data=t,this.pagination=l(l({},this.pagination),{total:t.length})}})).catch((e=>{console.log(e)}))},methods:{sortChange(e){console.log(e)},rehandleChange(e,t){console.log("统一Change",e,t)},listClick(e){console.log(e),this.visible=!0},deleteClickOp(e){this.data.splice(e.index,1)},onConfirm(){this.visible=!1}}},p,[],!1,(function(e){for(let t in v)this[t]=v[t]}),null,null,null).exports;export default c;
